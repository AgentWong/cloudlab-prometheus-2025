# =============================================================================
# templates/web-config.yml.j2 - Web interface configuration template
# =============================================================================

# {{ ansible_managed }}
# Prometheus web configuration file
# Generated by Ansible prometheus role

{% if prometheus_web_config.tls_server_config | length > 0 %}
tls_server_config:
{% for key, value in prometheus_web_config.tls_server_config.items() %}
  {{ key }}: {{ value }}
{% endfor %}
{% endif %}

{% if prometheus_web_config.http_server_config | length > 0 %}
http_server_config:
{% for key, value in prometheus_web_config.http_server_config.items() %}
  {{ key }}: {{ value }}
{% endfor %}
{% endif %}

{% if prometheus_web_config.basic_auth_users | length > 0 %}
basic_auth_users:
{% for user, password_hash in prometheus_web_config.basic_auth_users.items() %}
  {{ user }}: {{ password_hash }}
{% endfor %}
{% endif %}