# =============================================================================
# templates/prometheus-limits.conf.j2 - SystemD service limits override
# =============================================================================

# {{ ansible_managed }}
# Prometheus SystemD service limits override
# Generated by Ansible prometheus role

[Service]
# File descriptor limits
LimitNOFILE={{ prometheus_limit_nofile }}

# Memory lock limits (for mlock system calls)
LimitMEMLOCK={{ prometheus_limit_memlock }}

# Additional process limits if needed
{% if prometheus_limit_nproc is defined %}
LimitNPROC={{ prometheus_limit_nproc }}
{% endif %}

{% if prometheus_limit_core is defined %}
LimitCORE={{ prometheus_limit_core }}
{% endif %}

{% if prometheus_limit_stack is defined %}
LimitSTACK={{ prometheus_limit_stack }}
{% endif %}